{"version":3,"sources":["pages/detail/store/detailConstants.js","pages/detail/store/detailReducer.js","pages/detail/store/detailActionCreator.js","pages/detail/store/detailSaga.js","pages/detail/store/index.js","common/header/store/headerConstants.js","common/header/store/headerReducer.js","common/header/store/headerActionCreator.js","common/header/store/headerSaga.js","common/header/index.js","pages/home/components/topic/index.js","pages/home/components/list/index.js","pages/home/components/recommend/index.js","pages/home/components/writer/index.js","pages/home/store/homeConstants.js","pages/home/store/homeReducer.js","pages/home/store/homeSaga.js","pages/home/index.js","pages/detail/loadable.js","store/reducer.js","saga/sagas.js","store/index.js","App.js","index.js"],"names":["GET_DETAIL_DATA","DETAIL_DATA_RETURNED","GET_DETAIL_ITEM","DETAIL_ITEM_RETURNED","defaultState","fromJS","title","content","detailReducer","state","arguments","length","undefined","action","type","actionTypes","merge","data","getDetailData","id","getAsyncDetailData","getAsyncDetailItem","detailSaga","response","regenerator_default","a","wrap","_context","prev","next","call","axios","get","sent","put","t0","console","log","stop","_marked","this","_context2","_marked2","_context3","takeEvery","_marked3","__webpack_require__","d","__webpack_exports__","detailActionCreator_namespaceObject","GETLIST","GETLIST_ASYNC","focused","list","page","totalPage","mouseIn","searchFocus","searchBlur","getListAsync","mouseEnter","mouseLeave","changePage","getAsyncList","headerSaga","Math","ceil","delegateYield","Header","_this","_this$props","props","handleMouseEnter","handleMouseLeave","handleChangePage","newList","toJS","pageList","i","push","react_default","createElement","href","key","className","onMouseEnter","onMouseLeave","ref","icon","spinIcon","onClick","_this$props2","handleInputFocus","handleInputBlur","Link","to","placeholder","onFocus","onBlur","getListArea","PureComponent","connect","getIn","dispatch","size","actionCreator","spin","matchRst","exec","style","transform","deg","parseInt","p","Topic","topicList","map","item","src","alt","List","articleList","Recommend","recommendList","styleObj","background","backgroundSize","Writer","GET_HOME_DATA","HOME_DATA_RETURNED","getAsyncHomeData","homeSaga","homeSaga_marked","homeSaga_marked2","Home","topic","components_list","recommend","writer","changeHomeData","LoadableComponent","Loadable","loader","e","then","bind","loading","loadable","reducer","combineReducers","header","set","home","detail","rootSaga","all","fork","sagas_marked","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","App","es","BrowserRouter","Route","path","exact","component","Detail","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.34b502ab.chunk.js","sourcesContent":["export const GET_DETAIL_DATA = 'detail/GET_DETAIL_DATA';  // 发起获取数据的action名称\r\nexport const DETAIL_DATA_RETURNED = 'detail/DETAIL_DATA_RETURNED';    // 数据成功获取到后通知reducer更改state的action名称\r\n\r\nexport const GET_DETAIL_ITEM = 'detail/GET_DETAIL_ITEM';\r\nexport const DETAIL_ITEM_RETURNED = 'detail/DETAIL_ITEM_RETURNED';","import * as actionTypes from './detailConstants';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst defaultState = fromJS({\r\n    title: '',\r\n    content: ''\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.DETAIL_ITEM_RETURNED: {\r\n            return state.merge({\r\n                title: fromJS(action.data.title),\r\n                content: fromJS(action.data.content)\r\n            });\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}","import * as actionTypes from './detailConstants';\r\n\r\nexport const getDetailData = (id) => {\r\n    return {\r\n        type: actionTypes.GET_DETAIL_ITEM,\r\n        id: id\r\n    }\r\n}","import { takeEvery } from 'redux-saga';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport * as actionTypes from './detailConstants';\r\n\r\nfunction* getAsyncDetailData(action) {\r\n    try {\r\n        const response = yield call(axios.get, '../api/homeData.json');\r\n        yield put({ type: actionTypes.DETAIL_DATA_RETURNED, data: response.data.data });\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nfunction* getAsyncDetailItem(action) {\r\n    try {\r\n        const response = yield call(axios.get, '../api/detail.json?id=' + action.id);\r\n        yield put({ type: actionTypes.DETAIL_ITEM_RETURNED, data: response.data.data} );\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport function* detailSaga() {\r\n    yield takeEvery(actionTypes.GET_DETAIL_DATA, getAsyncDetailData);\r\n    yield takeEvery(actionTypes.GET_DETAIL_ITEM, getAsyncDetailItem);\r\n}","import reducer from './detailReducer';\r\nimport * as actionCreator from './detailActionCreator';\r\nimport * as constants from './detailConstants';\r\nimport { detailSaga as saga } from './detailSaga';\r\n\r\nexport { reducer, actionCreator, constants, saga };","export const SEARCH_FOCUS = 'header/SEARCH_FOCUS';\r\nexport const SEARCH_BLUR = 'header/SEARCH_BLUR';\r\nexport const MOUSE_ENTER = 'header/MOUSE_ENTER';\r\nexport const MOUSE_LEAVE = 'header/MOUSE_LEAVE';\r\nexport const CHANGE_PAGE = 'header/CHANGE_PAGE';\r\n\r\n// 此处的类型成对出现，一个是在actionCreator中派发action，由saga接收，一个是saga异步处理完后派发action，由reducer接收\r\nexport const GETLIST = 'header/GETLIST';\r\nexport const GETLIST_ASYNC = 'header/GETLIST_ASYNC';","import * as actionTypes from './headerConstants';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst defaultState = fromJS({\r\n    focused: false, // 用于确定是否输入框是否获得焦点，以改变输入框长度\r\n    list: [],   // 输入框自动提示的数据\r\n    page: 1,    // 输入框自动提示的列表的当前页\r\n    totalPage: 1,    //输入框自动提示的列表的总页数\r\n    mouseIn: false  // 鼠标是否在自动推荐列表框上，来确定是否隐藏它\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case actionTypes.SEARCH_FOCUS: {\r\n            // immutable对象的set方法，会结合之前immutable对象的值和设置的值，返回一个全新的对象\r\n            // 此处并不是在修改原始state数据\r\n            return state.set('focused', true);\r\n        }\r\n        case actionTypes.SEARCH_BLUR: {\r\n            return state.set('focused', false);\r\n        }\r\n        case actionTypes.GETLIST: {\r\n            return state.merge({\r\n                list: fromJS(action.data),\r\n                totalPage: action.totalPage\r\n            })\r\n            // state.set('list', fromJS(action.data)).set('totalPage', fromJS(action.totalPage));\r\n        }\r\n        case actionTypes.MOUSE_ENTER: {\r\n            return state.set('mouseIn', true);\r\n        }\r\n        case actionTypes.MOUSE_LEAVE: {\r\n            return state.set('mouseIn', false);\r\n        }\r\n        case actionTypes.CHANGE_PAGE: {\r\n            return state.set('page', action.page)\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}","import * as actionTypes from './headerConstants';\r\n\r\nexport const searchFocus = () => {\r\n    return {\r\n        type: actionTypes.SEARCH_FOCUS\r\n    }\r\n}\r\n\r\nexport const searchBlur = () => {\r\n    return {\r\n        type: actionTypes.SEARCH_BLUR\r\n    }\r\n}\r\n\r\nexport const getListAsync = () => {\r\n    return {\r\n        type: actionTypes.GETLIST_ASYNC\r\n    }\r\n}\r\n\r\nexport const mouseEnter = () => {\r\n    return {\r\n        type: actionTypes.MOUSE_ENTER\r\n    }\r\n}\r\n\r\nexport const mouseLeave = () => {\r\n    return {\r\n        type: actionTypes.MOUSE_LEAVE\r\n    }\r\n}\r\n\r\nexport const changePage = (page) => {\r\n    return {\r\n        type: actionTypes.CHANGE_PAGE,\r\n        page\r\n    }\r\n}","import { takeEvery } from 'redux-saga';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport * as actionTypes from './headerConstants';\r\n\r\nfunction* getAsyncList() {\r\n    try {\r\n        const response = yield call(axios.get, './api/headerList.json');\r\n        yield put({ type: actionTypes.GETLIST, data: response.data.data, totalPage: Math.ceil(response.data.data.length / 10) });\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport function* headerSaga() {\r\n    yield* takeEvery(actionTypes.GETLIST_ASYNC, getAsyncList)\r\n}","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { actionCreator } from './store/';\r\nimport './style.scss';\r\n\r\nclass Header extends PureComponent {\r\n\r\n    getListArea() {\r\n        const { focused, list, page, totalPage, mouseIn, handleMouseEnter, handleMouseLeave, handleChangePage } = this.props;\r\n        const newList = list.toJS();    // list是immutable的数据，要转换成普通的数组\r\n        const pageList = [];\r\n\r\n        if (newList.length) {\r\n            for (let i = (page - 1) * 10; i < (page * 10); i++) {\r\n                if (newList[i]) {\r\n                    pageList.push(\r\n                        <a href=\"#\" key={newList[i]}>{newList[i]}</a>\r\n                    );\r\n                }\r\n            }\r\n        }\r\n\r\n        if ((focused || mouseIn)) {\r\n            return (\r\n                <div className=\"search_info\"\r\n                    onMouseEnter={handleMouseEnter}\r\n                    onMouseLeave={handleMouseLeave}>\r\n                    <div className=\"search_info_title\">热门搜索</div>\r\n                    <i className=\"iconfont spin\" ref={(icon) => {this.spinIcon = icon}}>&#xe7e9;</i>\r\n                    <span className=\"search_info_switch\" onClick={() => { handleChangePage(page, totalPage, this.spinIcon) }}>换一批</span>\r\n                    <div className=\"search_info_contents\">\r\n                        {pageList}\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { focused, list, handleInputFocus, handleInputBlur } = this.props;\r\n        return (\r\n            <div className='header_wrapper'>\r\n                <Link to='/'>\r\n                    <div className='logo'></div>\r\n                </Link>\r\n                <nav>\r\n                    <span className='left active'>首页</span>\r\n                    <span className='left'>下载APP</span>\r\n                    <span className=\"right iconfont\">&#xe636;</span>\r\n                    <span className='right'>登录</span>\r\n\r\n                    <div className=\"search_wrapper\">\r\n                        <input id='navSearch' className={focused ? \"focused\" : \"\"} placeholder='搜索'\r\n                            onFocus={() => {handleInputFocus(list)}}\r\n                            onBlur={handleInputBlur} />\r\n                        <i className={focused ? \"focused iconfont\" : \"iconfont\"}>&#xe617;</i>\r\n                        {this.getListArea()}\r\n                    </div>\r\n                </nav>\r\n                <div className='addition'>\r\n                    <div className='btn writting'>\r\n                        <i className=\"iconfont\">&#xe6a4;</i>\r\n                        写文章\r\n                    </div>\r\n                    <div className='btn reg'>注册</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n    return {\r\n        focused: state.get('header').get('focused'),\r\n        // 或者此处也可以用以下immutable对象的联写形式\r\n        // focused: state.getIn(['header', 'focused'])\r\n        list: state.getIn(['header', 'list']),\r\n        page: state.getIn(['header', 'page']),\r\n        totalPage: state.getIn(['header', 'totalPage']),\r\n        mouseIn: state.getIn(['header', 'mouseIn'])\r\n    }\r\n}\r\n\r\nconst mapDispatch = (dispatch) => {\r\n    return {\r\n        handleInputFocus(list) {\r\n            list.size === 0 && dispatch(actionCreator.getListAsync());  // 仅在list没有值的时候派发获取搜索框推荐的异步数据的action\r\n            dispatch(actionCreator.searchFocus());  // 派发搜索框获得焦点的action，改变state状态\r\n        },\r\n        handleInputBlur() {\r\n            dispatch(actionCreator.searchBlur());   // 牌法搜索框失去焦点的action，改变state状态\r\n        },\r\n        handleMouseEnter() {\r\n            dispatch(actionCreator.mouseEnter());\r\n        },\r\n        handleMouseLeave() {\r\n            dispatch(actionCreator.mouseLeave())\r\n        },\r\n        handleChangePage(page, totalPage, spin) {\r\n            const reg = /rotate\\((\\d+)deg\\)/g;\r\n            const matchRst = reg.exec(spin.style.transform);\r\n            const deg = matchRst === null ? 360 : parseInt(matchRst[1]) + 360;\r\n            spin.style.transform = 'rotate(' + deg + 'deg)';\r\n\r\n            let p = 0;\r\n            if (page < totalPage) {\r\n                p = page + 1;\r\n            } else {\r\n                p = 1;\r\n            }\r\n            dispatch(actionCreator.changePage(p));\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapState, mapDispatch)(Header);","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './style.scss';\r\n\r\nclass Topic extends PureComponent {\r\n    render() {\r\n\r\n        const { topicList } = this.props;\r\n        return (\r\n            <div className='topic_wrapper'>\r\n                {\r\n                    topicList.map((item) => {\r\n                        return (\r\n                            <div className=\"topic_item\" key={item.get('id')}>\r\n                                <img src={item.get('imgUrl')} alt=\"\"/>\r\n                                {item.get('title')}\r\n                            </div>\r\n                        )\r\n                    })\r\n                }                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n    topicList: state.getIn(['home', 'topicList'])\r\n});\r\n\r\nexport default connect(mapState, null)(Topic);","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport './style.scss';\r\n\r\nclass List extends PureComponent {\r\n    render() {\r\n        const { articleList } = this.props;\r\n        return (\r\n            <ul className='home_list'>\r\n                {\r\n                    articleList.map((item) => {\r\n                        return (\r\n                            <Link key={item.get('id')} to={'/detail/' + item.get('id')}>\r\n                                <li className='list_item'>\r\n                                    <img src={item.get('imgUrl')} alt=\"\" />\r\n                                    <div className='list_info'>\r\n                                        <h3>{item.get('title')}</h3>\r\n                                        <p>{item.get('desc')}</p>\r\n                                    </div>\r\n                                </li>\r\n                            </Link>\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n    articleList: state.getIn(['home', 'articleList'])\r\n})\r\n\r\nexport default connect(mapState, null)(List);","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './style.scss';\r\n\r\nclass Recommend extends PureComponent {\r\n    render() {\r\n        const { recommendList } = this.props;   \r\n        return (\r\n            <ul className=\"recommend_wrapper\">\r\n                {\r\n                    recommendList.map((item) => {\r\n                        const styleObj = {\r\n                            background: 'url(' + item.get('imgUrl') + ')',\r\n                            backgroundSize: 'contain'\r\n                        };\r\n                        return (\r\n                            <li className=\"recommend_item\" style={styleObj} key={item.get('id')}></li>\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n    recommendList: state.getIn(['home', 'recommendList'])\r\n})\r\n\r\nexport default connect(mapState, null)(Recommend);","import React, { PureComponent } from 'react';\r\n\r\nclass Writer extends PureComponent {\r\n    render() {\r\n        return (\r\n            <div>此部分内容，参考其他component写法，自行完成</div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Writer;","export const GET_HOME_DATA = 'home/GET_HOME_DATA';  // 发起获取数据的action名称\r\nexport const HOME_DATA_RETURNED = 'home/HOME_DATA_RETURNED';    // 数据成功获取到后通知reducer更改state的action名称","import * as actionTypes from './homeConstants';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst defaultState = fromJS({\r\n    topicList: [],\r\n    articleList: [],\r\n    recommendList: []\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.HOME_DATA_RETURNED: {\r\n            return state.merge({\r\n                topicList: fromJS(action.data.topicList),\r\n                articleList: fromJS(action.data.articleList),\r\n                recommendList: fromJS(action.data.recommendList)\r\n            });\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}","import { takeEvery } from 'redux-saga';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport * as actionTypes from './homeConstants';\r\n\r\nfunction* getAsyncHomeData() {\r\n    try {\r\n        const response = yield call(axios.get, './api/homeData.json');\r\n        yield put({ type: actionTypes.HOME_DATA_RETURNED, data: response.data.data });\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport function* homeSaga() {\r\n    yield* takeEvery(actionTypes.GET_HOME_DATA, getAsyncHomeData);\r\n}","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Topic from './components/topic';\r\nimport List from './components/list';\r\nimport Recommend from './components/recommend';\r\nimport Writer from './components/writer';\r\nimport { constants as actionTypes } from './store';\r\nimport './style.scss';\r\n\r\nclass Home extends PureComponent {\r\n    render() {\r\n        return (\r\n            <div className='home_wrapper'>\r\n                <div className=\"home_left\">\r\n                    <img className='banner_img' src=\"https://upload.jianshu.io/admin_banners/web_images/4605/1d5cb81933dbb48ab0aa53d481a1300fc5406e7f.png?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\" alt=\"\"/>\r\n                    <Topic />\r\n                    <List />\r\n                </div>\r\n                <div className=\"home_right\">\r\n                    <Recommend />\r\n                    <Writer />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.changeHomeData(); \r\n    }\r\n}\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n    changeHomeData() {\r\n        dispatch({\r\n            type: actionTypes.GET_HOME_DATA\r\n        })\r\n    }\r\n});\r\n\r\nexport default connect(null, mapDispatch)(Home);","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableComponent = Loadable({\r\n    loader: () => {\r\n        return import('./') // 此处的意思是引入需要异步加载的组件\r\n    },\r\n    // loading是一个函数，表示在加载过程中，需要显示什么内容，可以返回一个jsx\r\n    loading: function () {\r\n        return <div>正在加载...</div>\r\n    }\r\n});\r\n\r\n// 此处可以简写成无状态组件的形式\r\nexport default () => <LoadableComponent />;\r\n\r\n\r\n","import { combineReducers } from 'redux-immutable';\r\nimport { reducer as headerReducer } from '../common/header/store';\r\nimport { reducer as homeReducer } from '../pages/home/store';\r\nimport { reducer as detailReducer } from '../pages/detail/store';\r\n\r\nconst reducer =  combineReducers({\r\n    header: headerReducer,\r\n    home: homeReducer,\r\n    detail: detailReducer\r\n});\r\n\r\nexport default reducer;","import { all, fork } from 'redux-saga/effects';\r\nimport { saga as headerSaga } from '../common/header/store';\r\nimport { saga as homeSaga } from '../pages/home/store';\r\nimport { saga as detailSaga } from '../pages/detail/store';\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        fork(headerSaga),\r\n        fork(homeSaga),\r\n        fork(detailSaga)\r\n    ])\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport reducer from './reducer';\r\nimport rootSaga from '../saga/sagas';\r\n\r\n// const store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n// 通过 redux-devtools-extension 来加载浏览器调试插件\r\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(sagaMiddleware)));\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;","import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport './app.scss';\nimport Header from './common/header/index';\nimport Home from './pages/home';\nimport Detail from './pages/detail/loadable';\nimport store from './store/index';\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <BrowserRouter>\n          <div>\n            <Header />\n            <Route path='/' exact component={Home}></Route>\n            <Route path='/detail/:id' exact component={Detail}></Route>\n          </div>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}